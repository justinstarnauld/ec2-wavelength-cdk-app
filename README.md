# ec2-wavelength-cdk-app
Generate an EC2 instance in a Wavelength availability zone (5G Edge)

This example creates a single EC2 instance (T3-medium) in a Wavelength availability zone contained in a new VPC with the required networking and routing properties.

For more info on AWS Wavelength services check out the guide [here](https://aws.amazon.com/wavelength/).

## Build

Before building this app, you must first create a .env file in the root directory to keep your AWS Account number and default region. Replace the xxXxXxxXXxXxx with your AWS account number and use the region you want.

```bash
AWS_ACCOUNT_NUMBER=xxXxXxxXXxXxx
AWS_ACCOUNT_REGION=us-west-2
```

You should then specify the Wavelength AZ location you want to use.  A list of Wavelength zone locations can be found [here](https://aws.amazon.com/wavelength/locations/).

```typescript
// Wavelength zones based on region availability
const wavelengthAZ: string = 'us-west-2-wl1-sfo-wlz-1';
```

Lastly, create a new key pair using the AWS console and update line 124 in the index.js file with your key pair name.

```typescript
keyName: 'wl-cdk-demo-1', // <= make sure to create a new EC2 KeyPair to enable SSH access
```

To build this app, you need to be in this example's root folder. Then run the following:

```bash
npm install -g aws-cdk
npm install
npm run build
```

This will install the necessary CDK, then this example's dependencies, and then build your TypeScript files and your CloudFormation template.

## Deploy

Run `cdk deploy`. This will deploy / redeploy your Stack to your AWS Account.

After the deployment you will see the WL instance public DNS name, which will contain the IPv4 Carrier IP address for routing to your server from the carrier network.

## Synthesize Cloudformation Template

To see the Cloudformation template generated by the CDK, run `cdk synth`, then check the output file in the "cdk.out" directory.

## Destroy

To destroy all AWS services generated by the CDK, run `cdk destroy`.